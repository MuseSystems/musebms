<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="mscmp_syst_options v0.1.0">


    <title>MscmpSystOptions â€” mscmp_syst_options v0.1.0</title>
    <link rel="stylesheet" href="dist/html-elixir-F2VRIOKR.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-8AEF7828.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-YIPIRHGU.js"></script>

  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="MscmpSystOptions.html" class="sidebar-projectName" translate="no">
mscmp_syst_options
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.1.0
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of mscmp_syst_options</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

    <span translate="no">MscmpSystOptions</span> 
    <small class="app-vsn" translate="no">(mscmp_syst_options v0.1.0)</small>

  </h1>


    <section id="moduledoc">
<p>API for retrieving and working with option files stored in the application
server file system.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-file-handling summary">
  <h2>
    <a href="#file-handling">File Handling</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_options/1" data-no-tooltip translate="no">get_options(options_file_path)</a>

      </div>

        <div class="summary-synopsis"><p>Parses and returns the contents of a TOML file at <code class="inline">options_file_path</code> via a
result tuple.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_options!/1" data-no-tooltip translate="no">get_options!(options_file_path)</a>

      </div>

        <div class="summary-synopsis"><p>Parses and returns the contents of a TOML file at <code class="inline">options_file_path</code> or
raises.</p></div>

    </div>

</div>
<div class="summary-parsing summary">
  <h2>
    <a href="#parsing">Parsing</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_dbserver_by_name/2" data-no-tooltip translate="no">get_dbserver_by_name(options, dbserver_name)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the database server definition which corresponds to the provided name.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_global_db_password/1" data-no-tooltip translate="no">get_global_db_password(options)</a>

      </div>

        <div class="summary-synopsis"><p>Returns a password fragment which is used to establish connections to the
global database.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_global_db_pool_size/1" data-no-tooltip translate="no">get_global_db_pool_size(options)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the number of connections to the global database that should be
established on application startup.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_global_dbserver/1" data-no-tooltip translate="no">get_global_dbserver(options)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the <a href="../../../../documentation/technical/app_server/mscmp_syst_db/MscmpSystDb.Types.DbServer.html#t:t/0"><code class="inline">MscmpSystDb.Types.DbServer.t/0</code></a> data for the database
server designated as hosting the global database.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_global_dbserver_name/1" data-no-tooltip translate="no">get_global_dbserver_name(options)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the name of the database server which hosts the global database.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_global_pepper_value/1" data-no-tooltip translate="no">get_global_pepper_value(options)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the configured global server &quot;pepper&quot; value for use in some automatic
account creation scenarios.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_available_server_pools/1" data-no-tooltip translate="no">list_available_server_pools(options)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the list of available server pools configured in the options file.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_dbservers/2" data-no-tooltip translate="no">list_dbservers(options, filters \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Extracts the list of configured dbservers in the options file, optionally
filtered by the server's supported instance classes.</p></div>

    </div>

</div>

  </section>


  <section id="file-handling" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#file-handling">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">File Handling</span>
    </h1>
    <div class="file-handling-list">
<section class="detail" id="get_options/1">

  <div class="detail-header">
    <a href="#get_options/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_options(options_file_path)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_options(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()) :: {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()} | {:error, <a href="../../../../documentation/technical/app_server/mscmp_syst_error/MscmpSystError.html#t:t/0">MscmpSystError.t</a>()}</pre>

      </div>

<p>Parses and returns the contents of a TOML file at <code class="inline">options_file_path</code> via a
result tuple.</p><p>If successful a tuple with a first value of <code class="inline">:ok</code> and second value containing
a map of the options is returned.  When errors are found, a tuple with a first
value of <code class="inline">:error</code> and second value of the relevant <a href="../../../../documentation/technical/app_server/mscmp_syst_error/MscmpSystError.html"><code class="inline">MscmpSystError</code></a> exception
is returned.</p><h2 id="get_options/1-parameters" class="section-heading">
  <a href="#get_options/1-parameters" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Parameters</span>
</h2>
<ul><li><code class="inline">options_file_path</code> - describes where to find the options file in the file
system.</li></ul><h2 id="get_options/1-examples" class="section-heading">
  <a href="#get_options/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<p>Typical call and return:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options</span><span class="p" data-group-id="5958416671-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="5958416671-1">)</span><span class="w">
</span><span class="p" data-group-id="5958416671-2">{</span><span class="w">
  </span><span class="ss">:ok</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="5958416671-3">%{</span><span class="w">
    </span><span class="ss">dbserver</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5958416671-4">[</span><span class="w">
      </span><span class="p" data-group-id="5958416671-5">%{</span><span class="w">
        </span><span class="ss">db_host</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">,</span><span class="w">
        </span><span class="ss">db_max_instances</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="ss">db_port</span><span class="p">:</span><span class="w"> </span><span class="mi">5432</span><span class="p">,</span><span class="w">
        </span><span class="ss">db_show_sensitive</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
        </span><span class="ss">dbadmin_password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default.msbms.privileged.password&quot;</span><span class="p">,</span><span class="w">
        </span><span class="ss">dbadmin_pool_size</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="ss">server_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;global_db&quot;</span><span class="p">,</span><span class="w">
        </span><span class="ss">server_salt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sklMRkLXzMQgzqpMpJZPk31Js88su39U/mooAXALhj0=&quot;</span><span class="p">,</span><span class="w">
        </span><span class="ss">start_server_instances</span><span class="p">:</span><span class="w"> </span><span class="no">false</span><span class="p">,</span><span class="w">
        </span><span class="ss">server_pools</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5958416671-6">[</span><span class="p" data-group-id="5958416671-6">]</span><span class="w">
      </span><span class="p" data-group-id="5958416671-5">}</span><span class="p">,</span><span class="w">
      </span><span class="p" data-group-id="5958416671-7">%{</span><span class="w">
        </span><span class="ss">db_host</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">,</span><span class="w">
        </span><span class="ss">db_max_instances</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="ss">db_port</span><span class="p">:</span><span class="w"> </span><span class="mi">5432</span><span class="p">,</span><span class="w">
        </span><span class="ss">db_show_sensitive</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
        </span><span class="ss">dbadmin_password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default.msbms.privileged.password&quot;</span><span class="p">,</span><span class="w">
        </span><span class="ss">dbadmin_pool_size</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="ss">server_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;instance_db&quot;</span><span class="p">,</span><span class="w">
        </span><span class="ss">server_salt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;w1OfRx630x7svid8Tk3L9rLL1eEGSm0fq8XcLdveuSs=&quot;</span><span class="p">,</span><span class="w">
        </span><span class="ss">start_server_instances</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
        </span><span class="ss">server_pools</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5958416671-8">[</span><span class="s">&quot;primary&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;linked&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reserved&quot;</span><span class="p" data-group-id="5958416671-8">]</span><span class="w">
      </span><span class="p" data-group-id="5958416671-7">}</span><span class="w">
    </span><span class="p" data-group-id="5958416671-4">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">available_server_pools</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5958416671-9">[</span><span class="s">&quot;primary&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;linked&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reserved&quot;</span><span class="p" data-group-id="5958416671-9">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">global_dbserver_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;global_db&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">global_db_password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;(eXI0BU&amp;elq1(mvw&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">global_db_pool_size</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="ss">global_pepper_value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;jTtEdXRExP5YXHeARQ1W66lP6wDc9GyOvhFPvwnHhtc=&quot;</span><span class="w">
  </span><span class="p" data-group-id="5958416671-3">}</span><span class="w">
</span><span class="p" data-group-id="5958416671-2">}</span></code></pre><p>Called with bad parameters:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="7991252871-1">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7991252871-2">%</span><span class="nc" data-group-id="7991252871-2">MscmpSystError</span><span class="p" data-group-id="7991252871-2">{</span><span class="p" data-group-id="7991252871-2">}</span><span class="p" data-group-id="7991252871-1">}</span><span class="w"> </span><span class="o">=</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options</span><span class="p" data-group-id="7991252871-3">(</span><span class="s">&quot;./bad_file_name.toml&quot;</span><span class="p" data-group-id="7991252871-3">)</span></code></pre>
  </section>
</section>
<section class="detail" id="get_options!/1">

  <div class="detail-header">
    <a href="#get_options!/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_options!(options_file_path)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_options!(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()) :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()</pre>

      </div>

<p>Parses and returns the contents of a TOML file at <code class="inline">options_file_path</code> or
raises.</p><p>The returned options will be in a map equivalent to the TOML file's structure.</p><h2 id="get_options!/1-examples" class="section-heading">
  <a href="#get_options!/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<p>Typical call and return:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="8702675690-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="8702675690-1">)</span><span class="w">
</span><span class="p" data-group-id="8702675690-2">%{</span><span class="w">
  </span><span class="ss">dbserver</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8702675690-3">[</span><span class="w">
    </span><span class="p" data-group-id="8702675690-4">%{</span><span class="w">
      </span><span class="ss">db_host</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">,</span><span class="w">
      </span><span class="ss">db_max_instances</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="ss">db_port</span><span class="p">:</span><span class="w"> </span><span class="mi">5432</span><span class="p">,</span><span class="w">
      </span><span class="ss">db_show_sensitive</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
      </span><span class="ss">dbadmin_password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default.msbms.privileged.password&quot;</span><span class="p">,</span><span class="w">
      </span><span class="ss">dbadmin_pool_size</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="ss">server_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;global_db&quot;</span><span class="p">,</span><span class="w">
      </span><span class="ss">server_salt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sklMRkLXzMQgzqpMpJZPk31Js88su39U/mooAXALhj0=&quot;</span><span class="p">,</span><span class="w">
      </span><span class="ss">start_server_instances</span><span class="p">:</span><span class="w"> </span><span class="no">false</span><span class="p">,</span><span class="w">
      </span><span class="ss">server_pools</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8702675690-5">[</span><span class="p" data-group-id="8702675690-5">]</span><span class="w">
    </span><span class="p" data-group-id="8702675690-4">}</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="8702675690-6">%{</span><span class="w">
      </span><span class="ss">db_host</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">,</span><span class="w">
      </span><span class="ss">db_max_instances</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="ss">db_port</span><span class="p">:</span><span class="w"> </span><span class="mi">5432</span><span class="p">,</span><span class="w">
      </span><span class="ss">db_show_sensitive</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
      </span><span class="ss">dbadmin_password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default.msbms.privileged.password&quot;</span><span class="p">,</span><span class="w">
      </span><span class="ss">dbadmin_pool_size</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="ss">server_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;instance_db&quot;</span><span class="p">,</span><span class="w">
      </span><span class="ss">server_salt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;w1OfRx630x7svid8Tk3L9rLL1eEGSm0fq8XcLdveuSs=&quot;</span><span class="p">,</span><span class="w">
      </span><span class="ss">start_server_instances</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
      </span><span class="ss">server_pools</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8702675690-7">[</span><span class="s">&quot;primary&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;linked&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reserved&quot;</span><span class="p" data-group-id="8702675690-7">]</span><span class="w">
    </span><span class="p" data-group-id="8702675690-6">}</span><span class="w">
  </span><span class="p" data-group-id="8702675690-3">]</span><span class="p">,</span><span class="w">
  </span><span class="ss">available_server_pools</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8702675690-8">[</span><span class="s">&quot;primary&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;linked&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reserved&quot;</span><span class="p" data-group-id="8702675690-8">]</span><span class="p">,</span><span class="w">
  </span><span class="ss">global_dbserver_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;global_db&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">global_db_password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;(eXI0BU&amp;elq1(mvw&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">global_db_pool_size</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="ss">global_pepper_value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;jTtEdXRExP5YXHeARQ1W66lP6wDc9GyOvhFPvwnHhtc=&quot;</span><span class="w">
</span><span class="p" data-group-id="8702675690-2">}</span></code></pre><p>Called with bad parameters:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="1177555262-1">(</span><span class="s">&quot;./bad_file_name.toml&quot;</span><span class="p" data-group-id="1177555262-1">)</span><span class="w">
</span><span class="gt">** (MscmpSystError) Problem reading options file &#39;./bad_file_name.toml&#39;.</span></code></pre>
  </section>
</section>

    </div>
  </section>

  <section id="parsing" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#parsing">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Parsing</span>
    </h1>
    <div class="parsing-list">
<section class="detail" id="get_dbserver_by_name/2">

  <div class="detail-header">
    <a href="#get_dbserver_by_name/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_dbserver_by_name(options, dbserver_name)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_dbserver_by_name(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>(), <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()) :: <a href="../../../../documentation/technical/app_server/mscmp_syst_db/MscmpSystDb.Types.DbServer.html#t:t/0">MscmpSystDb.Types.DbServer.t</a>() | nil</pre>

      </div>

<p>Returns the database server definition which corresponds to the provided name.</p><h2 id="get_dbserver_by_name/2-parameters" class="section-heading">
  <a href="#get_dbserver_by_name/2-parameters" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Parameters</span>
</h2>
<ul><li><p><code class="inline">options</code> - the options file data as read by <a href="#get_options/1"><code class="inline">get_options/1</code></a>.</p></li><li><p><code class="inline">dbserver_name</code> - the name of the database server to look up.</p></li></ul><h2 id="get_dbserver_by_name/2-examples" class="section-heading">
  <a href="#get_dbserver_by_name/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<p>Typical call for database server:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">config_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="9882051053-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="9882051053-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_dbserver_by_name</span><span class="p" data-group-id="9882051053-2">(</span><span class="n">config_options</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;instance_db&quot;</span><span class="p" data-group-id="9882051053-2">)</span><span class="w">
</span><span class="p" data-group-id="9882051053-3">%</span><span class="nc" data-group-id="9882051053-3">MscmpSystDb.Types.DbServer</span><span class="p" data-group-id="9882051053-3">{</span><span class="w">
  </span><span class="ss">db_host</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">db_max_instances</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
  </span><span class="ss">db_port</span><span class="p">:</span><span class="w"> </span><span class="mi">5432</span><span class="p">,</span><span class="w">
  </span><span class="ss">db_show_sensitive</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
  </span><span class="ss">dbadmin_password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default.msbms.privileged.password&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">dbadmin_pool_size</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="ss">server_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;instance_db&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">server_salt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;w1OfRx630x7svid8Tk3L9rLL1eEGSm0fq8XcLdveuSs=&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">start_server_instances</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
  </span><span class="ss">server_pools</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9882051053-4">[</span><span class="s">&quot;primary&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;linked&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reserved&quot;</span><span class="p" data-group-id="9882051053-4">]</span><span class="w">
</span><span class="p" data-group-id="9882051053-3">}</span></code></pre><p>Result in case of bad server name:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">config_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="0472178244-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="0472178244-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_dbserver_by_name</span><span class="p" data-group-id="0472178244-2">(</span><span class="n">config_options</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;non_existent_db&quot;</span><span class="p" data-group-id="0472178244-2">)</span><span class="w">
</span><span class="no">nil</span></code></pre>
  </section>
</section>
<section class="detail" id="get_global_db_password/1">

  <div class="detail-header">
    <a href="#get_global_db_password/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_global_db_password(options)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_global_db_password(%{
  :global_db_password =&gt; <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  optional(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()) =&gt; <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()
}) ::
  <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Returns a password fragment which is used to establish connections to the
global database.</p><blockquote><h4 class="warning">Note</h4><p>While this value doesn't represent the complete password used to connect
global database roles to the database server, it nonetheless should be
treated with care inside of the application as should the underlying options
file which persists this value.</p></blockquote><h2 id="get_global_db_password/1-parameters" class="section-heading">
  <a href="#get_global_db_password/1-parameters" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Parameters</span>
</h2>
<ul><li><code class="inline">options</code> - the options file data as read by <a href="#get_options/1"><code class="inline">get_options/1</code></a>.</li></ul><h2 id="get_global_db_password/1-examples" class="section-heading">
  <a href="#get_global_db_password/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">config_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="0290592898-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="0290592898-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_global_db_password</span><span class="p" data-group-id="0290592898-2">(</span><span class="n">config_options</span><span class="p" data-group-id="0290592898-2">)</span><span class="w">
</span><span class="s">&quot;(eXI0BU&amp;elq1(mvw&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="get_global_db_pool_size/1">

  <div class="detail-header">
    <a href="#get_global_db_pool_size/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_global_db_pool_size(options)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_global_db_pool_size(%{
  :global_db_pool_size =&gt; <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  optional(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()) =&gt; <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()
}) ::
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>()</pre>

      </div>

<p>Returns the number of connections to the global database that should be
established on application startup.</p><h2 id="get_global_db_pool_size/1-parameters" class="section-heading">
  <a href="#get_global_db_pool_size/1-parameters" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Parameters</span>
</h2>
<ul><li><code class="inline">options</code> - the options file data as read by <a href="#get_options/1"><code class="inline">get_options/1</code></a>.</li></ul><h2 id="get_global_db_pool_size/1-examples" class="section-heading">
  <a href="#get_global_db_pool_size/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">config_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="7723890596-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="7723890596-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_global_db_pool_size</span><span class="p" data-group-id="7723890596-2">(</span><span class="n">config_options</span><span class="p" data-group-id="7723890596-2">)</span><span class="w">
</span><span class="mi">10</span></code></pre>
  </section>
</section>
<section class="detail" id="get_global_dbserver/1">

  <div class="detail-header">
    <a href="#get_global_dbserver/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_global_dbserver(options)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_global_dbserver(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: <a href="../../../../documentation/technical/app_server/mscmp_syst_db/MscmpSystDb.Types.DbServer.html#t:t/0">MscmpSystDb.Types.DbServer.t</a>()</pre>

      </div>

<p>Returns the <a href="../../../../documentation/technical/app_server/mscmp_syst_db/MscmpSystDb.Types.DbServer.html#t:t/0"><code class="inline">MscmpSystDb.Types.DbServer.t/0</code></a> data for the database
server designated as hosting the global database.</p><h2 id="get_global_dbserver/1-parameters" class="section-heading">
  <a href="#get_global_dbserver/1-parameters" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Parameters</span>
</h2>
<ul><li><code class="inline">options</code> - the options file data as read by <a href="#get_options/1"><code class="inline">get_options/1</code></a>.</li></ul><h2 id="get_global_dbserver/1-examples" class="section-heading">
  <a href="#get_global_dbserver/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">config_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="5459952356-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="5459952356-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5459952356-2">%</span><span class="nc" data-group-id="5459952356-2">MscmpSystDb.Types.DbServer</span><span class="p" data-group-id="5459952356-2">{</span><span class="ss">server_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;global_db&quot;</span><span class="p" data-group-id="5459952356-2">}</span><span class="w"> </span><span class="o">=</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="w">  </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_global_dbserver</span><span class="p" data-group-id="5459952356-3">(</span><span class="n">config_options</span><span class="p" data-group-id="5459952356-3">)</span></code></pre>
  </section>
</section>
<section class="detail" id="get_global_dbserver_name/1">

  <div class="detail-header">
    <a href="#get_global_dbserver_name/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_global_dbserver_name(options)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_global_dbserver_name(%{
  :global_dbserver_name =&gt; <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  optional(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()) =&gt; <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()
}) ::
  <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Returns the name of the database server which hosts the global database.</p><h2 id="get_global_dbserver_name/1-parameters" class="section-heading">
  <a href="#get_global_dbserver_name/1-parameters" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Parameters</span>
</h2>
<ul><li><code class="inline">options</code> - the options file data as read by <a href="#get_options/1"><code class="inline">get_options/1</code></a>.</li></ul><h2 id="get_global_dbserver_name/1-examples" class="section-heading">
  <a href="#get_global_dbserver_name/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">config_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="1126437714-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="1126437714-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_global_dbserver_name</span><span class="p" data-group-id="1126437714-2">(</span><span class="n">config_options</span><span class="p" data-group-id="1126437714-2">)</span><span class="w">
</span><span class="s">&quot;global_db&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="get_global_pepper_value/1">

  <div class="detail-header">
    <a href="#get_global_pepper_value/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_global_pepper_value(options)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_global_pepper_value(%{
  :global_pepper_value =&gt; <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  optional(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()) =&gt; <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()
}) ::
  <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">binary</a>()</pre>

      </div>

<p>Returns the configured global server &quot;pepper&quot; value for use in some automatic
account creation scenarios.</p><blockquote><h4 class="warning">Note</h4><p>While this is the way the system is built today, the suspicion is that the
approach we're currently taking with automatic account creation is better
than no effort for security, but probably not by much.  In other words, this
is not an example for how to build a robust security system, but should do
until there's actual public deployment of the application.</p></blockquote><h2 id="get_global_pepper_value/1-parameters" class="section-heading">
  <a href="#get_global_pepper_value/1-parameters" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Parameters</span>
</h2>
<ul><li><code class="inline">options</code> - the options file data as read by <a href="#get_options/1"><code class="inline">get_options/1</code></a>.</li></ul><h2 id="get_global_pepper_value/1-examples" class="section-heading">
  <a href="#get_global_pepper_value/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">config_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="9706248609-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="9706248609-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_global_pepper_value</span><span class="p" data-group-id="9706248609-2">(</span><span class="n">config_options</span><span class="p" data-group-id="9706248609-2">)</span><span class="w">
</span><span class="s">&quot;jTtEdXRExP5YXHeARQ1W66lP6wDc9GyOvhFPvwnHhtc=&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="list_available_server_pools/1">

  <div class="detail-header">
    <a href="#list_available_server_pools/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">list_available_server_pools(options)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> list_available_server_pools(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: [<a href="MscmpSystOptions.Types.html#t:server_pool/0">MscmpSystOptions.Types.server_pool</a>()]</pre>

      </div>

<p>Returns the list of available server pools configured in the options file.</p><h2 id="list_available_server_pools/1-parameters" class="section-heading">
  <a href="#list_available_server_pools/1-parameters" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Parameters</span>
</h2>
<ul><li><code class="inline">options</code> - the options file data as read by <a href="#get_options/1"><code class="inline">get_options/1</code></a>.</li></ul><h2 id="list_available_server_pools/1-examples" class="section-heading">
  <a href="#list_available_server_pools/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">config_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="6701672055-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="6701672055-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">list_available_server_pools</span><span class="p" data-group-id="6701672055-2">(</span><span class="n">config_options</span><span class="p" data-group-id="6701672055-2">)</span><span class="w">
</span><span class="p" data-group-id="6701672055-3">[</span><span class="s">&quot;primary&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;linked&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reserved&quot;</span><span class="p" data-group-id="6701672055-3">]</span></code></pre>
  </section>
</section>
<section class="detail" id="list_dbservers/2">

    <span id="list_dbservers/1"></span>

  <div class="detail-header">
    <a href="#list_dbservers/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">list_dbservers(options, filters \\ [])</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> list_dbservers(
  %{:dbserver =&gt; <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>(), optional(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()) =&gt; <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()},
  [<a href="MscmpSystOptions.Types.html#t:server_pool/0">MscmpSystOptions.Types.server_pool</a>()]
) :: [<a href="../../../../documentation/technical/app_server/mscmp_syst_db/MscmpSystDb.Types.DbServer.html#t:t/0">MscmpSystDb.Types.DbServer.t</a>()]</pre>

      </div>

<p>Extracts the list of configured dbservers in the options file, optionally
filtered by the server's supported instance classes.</p><h2 id="list_dbservers/2-parameters" class="section-heading">
  <a href="#list_dbservers/2-parameters" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Parameters</span>
</h2>
<ul><li><p><code class="inline">options</code> - the options file data as read by <a href="#get_options/1"><code class="inline">get_options/1</code></a>.</p></li><li><p><code class="inline">filters</code> - a list one or more instance class values with with to filter
the database servers list.  The valid instance classes are: &quot;primary&quot;,
&quot;linked&quot;, &quot;demo&quot;, and &quot;reserved&quot;.  An empty list of filter values returns
all database servers, including those that have no supported instance
classes (this is common for global database host servers).  The <code class="inline">filters</code>
values defaults to the empty list if not explicitly provided.</p></li></ul><h2 id="list_dbservers/2-examples" class="section-heading">
  <a href="#list_dbservers/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<p>Calling without filters:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">config_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="8405901276-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="8405901276-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="8405901276-2">[</span><span class="bp">_</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="8405901276-2">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">list_dbservers</span><span class="p" data-group-id="8405901276-3">(</span><span class="n">config_options</span><span class="p" data-group-id="8405901276-3">)</span><span class="w">
</span><span class="p" data-group-id="8405901276-4">[</span><span class="w">
  </span><span class="p" data-group-id="8405901276-5">%</span><span class="nc" data-group-id="8405901276-5">MscmpSystDb.Types.DbServer</span><span class="p" data-group-id="8405901276-5">{</span><span class="w">
    </span><span class="ss">db_host</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">db_max_instances</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="ss">db_port</span><span class="p">:</span><span class="w"> </span><span class="mi">5432</span><span class="p">,</span><span class="w">
    </span><span class="ss">db_show_sensitive</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
    </span><span class="ss">dbadmin_password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default.msbms.privileged.password&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">dbadmin_pool_size</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="ss">server_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;global_db&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">server_salt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sklMRkLXzMQgzqpMpJZPk31Js88su39U/mooAXALhj0=&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">start_server_instances</span><span class="p">:</span><span class="w"> </span><span class="no">false</span><span class="p">,</span><span class="w">
    </span><span class="ss">server_pools</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8405901276-6">[</span><span class="p" data-group-id="8405901276-6">]</span><span class="w">
  </span><span class="p" data-group-id="8405901276-5">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="8405901276-7">%</span><span class="nc" data-group-id="8405901276-7">MscmpSystDb.Types.DbServer</span><span class="p" data-group-id="8405901276-7">{</span><span class="w">
    </span><span class="ss">db_host</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">db_max_instances</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="ss">db_port</span><span class="p">:</span><span class="w"> </span><span class="mi">5432</span><span class="p">,</span><span class="w">
    </span><span class="ss">db_show_sensitive</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
    </span><span class="ss">dbadmin_password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default.msbms.privileged.password&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">dbadmin_pool_size</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="ss">server_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;instance_db&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">server_salt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;w1OfRx630x7svid8Tk3L9rLL1eEGSm0fq8XcLdveuSs=&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">start_server_instances</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
    </span><span class="ss">server_pools</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8405901276-8">[</span><span class="s">&quot;primary&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;linked&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reserved&quot;</span><span class="p" data-group-id="8405901276-8">]</span><span class="w">
  </span><span class="p" data-group-id="8405901276-7">}</span><span class="w">
</span><span class="p" data-group-id="8405901276-4">]</span></code></pre><p>Calling with filters:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">config_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">get_options!</span><span class="p" data-group-id="8342659777-1">(</span><span class="s">&quot;./testing_options.toml&quot;</span><span class="p" data-group-id="8342659777-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="8342659777-2">[</span><span class="bp">_</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="8342659777-2">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MscmpSystOptions</span><span class="o">.</span><span class="n">list_dbservers</span><span class="p" data-group-id="8342659777-3">(</span><span class="n">config_options</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8342659777-4">[</span><span class="s">&quot;primary&quot;</span><span class="p" data-group-id="8342659777-4">]</span><span class="p" data-group-id="8342659777-3">)</span><span class="w">
</span><span class="p" data-group-id="8342659777-5">[</span><span class="w">
  </span><span class="p" data-group-id="8342659777-6">%</span><span class="nc" data-group-id="8342659777-6">MscmpSystDb.Types.DbServer</span><span class="p" data-group-id="8342659777-6">{</span><span class="w">
    </span><span class="ss">db_host</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">db_max_instances</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="ss">db_port</span><span class="p">:</span><span class="w"> </span><span class="mi">5432</span><span class="p">,</span><span class="w">
    </span><span class="ss">db_show_sensitive</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
    </span><span class="ss">dbadmin_password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default.msbms.privileged.password&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">dbadmin_pool_size</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="ss">server_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;instance_db&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">server_salt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;w1OfRx630x7svid8Tk3L9rLL1eEGSm0fq8XcLdveuSs=&quot;</span><span class="p">,</span><span class="w">
    </span><span class="ss">start_server_instances</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
    </span><span class="ss">server_pools</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8342659777-7">[</span><span class="s">&quot;primary&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;linked&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reserved&quot;</span><span class="p" data-group-id="8342659777-7">]</span><span class="w">
  </span><span class="p" data-group-id="8342659777-6">}</span><span class="w">
</span><span class="p" data-group-id="8342659777-5">]</span></code></pre>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="mscmp_syst_options.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
